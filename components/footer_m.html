<style>
    /* WhatsApp QR ìŠ¤íƒ€ì¼ */
    .wa-contact-wrapper-m { display: flex; flex-direction: row; justify-content: center; align-items: center; gap: 15px; margin-bottom: 2rem; }
    .qr-container-m { background: rgba(255, 255, 255, 0.9); padding: 4px; border-radius: 8px; box-shadow: 0 0 10px rgba(34, 211, 238, 0.2); }
    .qr-image-m { width: 48px; height: 48px; display: block; object-fit: contain; }
    .wa-image-m { width: 32px; height: 32px; object-fit: contain; }

    /* BGM ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #musicToggleBtn { 
        position: fixed; bottom: 25px; right: 25px; z-index: 10005; 
        width: 44px; height: 44px; background: rgba(23, 23, 23, 0.8); 
        border: 1px solid rgba(34, 211, 238, 0.4); border-radius: 50%; 
        display: flex; align-items: center; justify-content: center; 
        cursor: pointer; color: #22d3ee; backdrop-filter: blur(4px); 
    }
</style>

<footer class="bg-[#020617] py-12 px-6 border-t border-cyan-900/30 text-center">
    <div class="mb-8">
        <p class="text-cyan-400 font-bold text-sm mb-2">TDL Energy Indonesia</p>
        <p class="text-neutral-500 text-xs">Driving the Future of Mobility</p>
    </div>

    <div class="flex flex-col items-center gap-4 mb-8">
        <a href="index.html?view_mode=pc" class="flex items-center gap-2 px-5 py-2.5 rounded-full border border-neutral-700 text-neutral-400 text-xs font-medium active:bg-neutral-800">
            View PC version
        </a>
    </div>

    <div class="wa-contact-wrapper-m">
        <div class="qr-container-m" onclick="window.open('https://wa.me/6281296075099', '_blank')">
            <img src="images/footer/qr.png" alt="WhatsApp QR" class="qr-image-m">
        </div>
        <a href="https://wa.me/6281296075099" target="_blank">
            <img src="images/footer/whatsapp.png" alt="WhatsApp" class="wa-image-m">
        </a>
    </div>

    <div class="text-[10px] text-neutral-600 uppercase tracking-widest space-y-1">
        <p>Â© 2025 TDL Energy Indonesia</p>
    </div>
</footer>

<audio id="bgm" src="mp3/tdlid.mp3" loop muted preload="auto" playsinline></audio>
<button id="musicToggleBtn">
    <span id="musicIconUI">ğŸ”‡</span>
</button>

<script>
(function() {
    const bgm = document.getElementById('bgm');
    const musicBtn = document.getElementById('musicToggleBtn');
    const musicIcon = document.getElementById('musicIconUI');

    // 1. ìƒíƒœ ë³µì› ë¡œì§
    const savedTime = sessionStorage.getItem('bgmTime');
    const isMuted = sessionStorage.getItem('bgmMuted') !== 'false'; // ê¸°ë³¸ê°’ muted

    if (savedTime) bgm.currentTime = parseFloat(savedTime);
    bgm.muted = isMuted;
    musicIcon.innerText = isMuted ? "ğŸ”‡" : "ğŸµ";

    const playBGM = () => {
        bgm.play().then(() => {
            if (!bgm.muted) musicIcon.innerText = "ğŸµ";
            // ì¬ìƒ ì„±ê³µ ì‹œ ì´ë²¤íŠ¸ ì œê±°
            document.removeEventListener('touchstart', playBGM);
            document.removeEventListener('click', playBGM);
        }).catch(e => console.log("User interaction required"));
    };

    // ëª¨ë°”ì¼ ìë™ ì¬ìƒ ì œí•œ í•´ì œìš©
    document.addEventListener('touchstart', playBGM);
    document.addEventListener('click', playBGM);

    // 2. ë²„íŠ¼ í´ë¦­ ì œì–´
    musicBtn.onclick = (e) => {
        e.stopPropagation();
        if (bgm.muted || bgm.paused) {
            bgm.muted = false;
            bgm.play();
            musicIcon.innerText = "ğŸµ";
            sessionStorage.setItem('bgmMuted', 'false');
        } else {
            bgm.muted = true;
            musicIcon.innerText = "ğŸ”‡";
            sessionStorage.setItem('bgmMuted', 'true');
        }
    };

    // 3. í˜„ì¬ ì¬ìƒ ì‹œê°„ ì‹¤ì‹œê°„ ì €ì¥ (0.5ì´ˆë§ˆë‹¤)
    setInterval(() => {
        if (!bgm.paused) {
            sessionStorage.setItem('bgmTime', bgm.currentTime);
        }
    }, 500);
})();
</script>