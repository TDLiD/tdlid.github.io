<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TDL Energy Indonesia â€” NextGen Motorcycle Battery Packs</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="TDLiD - High-density lithium battery packs for electric motorcycles.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/main.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ transition ì†ì„±ì„ ë¯¸ë¦¬ ì •ì˜ */
        #productContentWrapper {
            transition: transform 0.8s ease-out, opacity 0.8s ease-out;
        }

        /* ì œí’ˆ ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì— ì´ë¯¸ì§€ë¥¼ ì¤‘ì•™ ì •ë ¬ */
        #galleryImageContainer {
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden; /* ì´ë¯¸ì§€ê°€ ë„˜ì¹˜ëŠ” ê²ƒì„ ë°©ì§€ */
        }
        #galleryImageContainer img {
            max-width: 100%;
            height: auto;
            object-fit: contain;
        }

        /* ---------------------------------------------------- */
        /* ğŸŒŸ [NEW] ëª¨ë°”ì¼ ë©”ë‰´ ìŠ¤íƒ€ì¼ (ê³µí†µ ì•ˆì • êµ¬ì¡°) ğŸŒŸ */
        /* ---------------------------------------------------- */
        .mobile-overlay-menu {
            /* Header height is approx 68px (px-6 py-4) */
            height: calc(100vh - 68px); 
            top: 68px; /* Set just below the header */
        }
        /* [NEW] Scroll lock for body */
        .overflow-hidden {
            overflow: hidden;
        }

        .dropdown-link {
            padding: 12px 20px;
            text-align: right;
            font-size: 1.125rem;
            color: #ccc;
            transition: background-color 0.2s, color 0.2s;
            border-bottom: 1px solid #262626;
        }

        .dropdown-link:hover {
            background-color: #0d383d; 
            color: #38bdf8;
        }
            
        .dropdown-quote-btn {
            padding: 15px 20px;
            text-align: center;
            background-color: #38bdf8; 
            color: #0a0a0a;
            font-weight: 600;
            border-radius: 0 0 10px 10px;
            transition: background-color 0.2s;
        }

        .dropdown-quote-btn:hover {
            background-color: #67e8f9;
        }
    </style>
</head>

<body class="bg-neutral-950 text-neutral-100 font-[Pretendard]">

<audio id="bgm" src="mp3/Caribbean.mp3" autoplay loop muted></audio>

<header class="fixed top-0 left-0 w-full z-50 bg-neutral-950/80 backdrop-blur border-b border-neutral-800">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4">
        <a href="index.html" class="flex items-center gap-3 text-xl font-bold">
            <img src="images/logo/logo.png" class="header-logo">
            <span class="animated-logo-text">TDL ENERGY INDONESIA</span>
        </a>

        <nav class="hidden md:flex items-center gap-10 text-sm text-neutral-300">
            <a href="index.html" class="nav-link hover:text-cyan-400">Home</a>
            <a href="products.html" class="nav-link font-bold text-cyan-500 hover:text-cyan-400">Products</a>
            <a href="technology.html" class="nav-link hover:text-cyan-400">Technology</a>
            <a href="solutions.html" class="nav-link hover:text-cyan-400">Solutions</a>
            <a href="company.html" class="nav-link hover:text-cyan-400">Company</a>
            <a href="news.html" class="nav-link hover:text-cyan-400">News</a>
            <a href="contact.html" class="ml-4 px-5 py-2 rounded-xl bg-cyan-500 text-black font-semibold hover:bg-cyan-400 transition">Request Quote</a>
        </nav>

        <button id="mobileMenuBtn" aria-expanded="false" class="md:hidden text-2xl text-cyan-400 p-2 border border-cyan-500 rounded-full hover:bg-cyan-500 hover:text-black transition-all duration-300">
            <span id="menuIcon">â˜°</span>
            <span id="closeIcon" class="hidden">âœ•</span>
        </button>
    </div>

    <div id="mobileMenu" 
         class="fixed left-0 w-full mobile-overlay-menu bg-neutral-950 md:hidden
                flex-col opacity-0 invisible transition-all duration-300 transform translate-x-full
                border-t border-neutral-800 z-40" 
         role="menu">
        <a href="index.html" class="dropdown-link">Home</a>
        <a href="products.html" class="dropdown-link font-bold text-cyan-500 bg-neutral-900/50">Products</a>
        <a href="technology.html" class="dropdown-link">Technology</a>
        <a href="solutions.html" class="dropdown-link">Solutions</a>
        <a href="company.html" class="dropdown-link">Company</a>
        <a href="news.html" class="dropdown-link">News</a>
        <a href="contact.html" class="dropdown-quote-btn mt-4 rounded-xl">Request Quote</a>
    </div>
</header>

<section class="pt-48 px-6">
    <div class="max-w-7xl mx-auto">
        <div class="flex items-center justify-between mb-8">
            <h3 class="text-3xl font-bold">TDLiD Products</h3>
            <div class="flex gap-3">
                <a href="data/catalog/comparison.pdf" target="_blank" class="px-3 py-2 rounded-lg bg-neutral-800 text-neutral-100 border-b-4 border-neutral-700 hover:bg-neutral-700 active:border-b-0 active:translate-y-0.5 transition transform">
                    Compare Models
                </a>
                <a href="data/catalog/tei-catalog-2025.pdf" target="_blank" class="px-3 py-2 rounded-lg bg-neutral-800 text-neutral-100 border-b-4 border-neutral-700 hover:bg-neutral-700 active:border-b-0 active:translate-y-0.5 transition transform">
                    View Catalog
                </a>
            </div>
        </div>

        <div id="productGallery" class="max-w-3xl mx-auto p-6 bg-neutral-900 rounded-xl">
            <div id="productContentWrapper">
                <div id="galleryImageContainer" class="aspect-[16/9] bg-neutral-800 rounded-lg p-4">
                    </div>
                <p id="productDescription" class="text-center text-neutral-400 mt-4 h-12 flex items-center justify-center">
                    Select a battery pack below.
                </p>
            </div>
            
            <div class="flex justify-between mt-4">
                <button id="galleryPrevBtn" class="px-4 py-2 bg-neutral-700 rounded hover:bg-neutral-600 transition">Prev</button>
                <span id="galleryStatus" class="text-neutral-400">Page 0 / 0</span>
                <button id="galleryNextBtn" class="px-4 py-2 bg-neutral-700 rounded hover:bg-neutral-600 transition">Next</button>
            </div>
        </div>
    </div>
</section>

<footer class="py-4 text-center text-neutral-500 border-t border-neutral-800">
    Â© 2025 TDL Energy Indonesia
</footer>

<script>
    // ----------------------------------------------------
    // 1. ì œí’ˆ ë°ì´í„° ğŸŒŸ [ìˆ˜ì •] ëª¨ë“  descë¥¼ ì˜ë¬¸ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ğŸŒŸ
    // ----------------------------------------------------
    const productsData = [
        { id: 1, name: 'TDLiD Product 1', spec: 'Product Spec for Image 1', image: 'images/products/image-1.png', desc: 'Detailed description for TDLiD product image 1.' },
        { id: 2, name: 'TDLiD Product 2', spec: 'Product Spec for Image 2', image: 'images/products/image-2.png', desc: 'Detailed description for TDLiD product image 2.' },
        { id: 3, name: 'TDLiD Product 3', spec: 'Product Spec for Image 3', image: 'images/products/image-3.png', desc: 'Detailed description for TDLiD product image 3.' },
        { id: 4, name: 'TDLiD Product 4', spec: 'Product Spec for Image 4', image: 'images/products/image-4.png', desc: 'Detailed description for TDLiD product image 4.' },
        { id: 5, name: 'TDLiD Product 5', spec: 'Product Spec for Image 5', image: 'images/products/image-5.png', desc: 'Detailed description for TDLiD product image 5.' },
        { id: 6, name: 'TDLiD Product 6', spec: 'Product Spec for Image 6', image: 'images/products/image-6.png', desc: 'Detailed description for TDLiD product image 6.' },
        { id: 7, name: 'TDLiD Product 7', spec: 'Product Spec for Image 7', image: 'images/products/image-7.png', desc: 'Detailed description for TDLiD product image 7.' },
        { id: 8, name: 'TDLiD Product 8', spec: 'Product Spec for Image 8', image: 'images/products/image-8.png', desc: 'Detailed description for TDLiD product image 8.' },
        { id: 9, name: 'TDLiD Product 9', spec: 'Product Spec for Image 9', image: 'images/products/image-9.png', desc: 'Detailed description for TDLiD product image 9.' },
        { id: 10, name: 'TDLiD Product 10', spec: 'Product Spec for Image 10', image: 'images/products/image-10.png', desc: 'Detailed description for TDLiD product image 10.' },
        { id: 11, name: 'TDLiD Product 11', spec: 'Product Spec for Image 11', image: 'images/products/image-11.png', desc: 'Detailed description for TDLiD product image 11.' },
        { id: 12, name: 'TDLiD Product 12', spec: 'Product Spec for Image 12', image: 'images/products/image-12.png', desc: 'Detailed description for TDLiD product image 12.' },
        { id: 13, name: 'TDLiD Product 13', spec: 'Product Spec for Image 13', image: 'images/products/image-13.png', desc: 'Detailed description for TDLiD product image 13.' },
        { id: 14, name: 'TDLiD Product 14', spec: 'Product Spec for Image 14', image: 'images/products/image-14.png', desc: 'Detailed description for TDLiD product image 14.' },
        { id: 15, name: 'TDLiD Product 15', spec: 'Product Spec for Image 15', image: 'images/products/image-15.png', desc: 'Detailed description for TDLiD product image 15.' },
        { id: 16, name: 'TDLiD Product 16', spec: 'Product Spec for Image 16', image: 'images/products/image-16.png', desc: 'Detailed description for TDLiD product image 16.' },
        { id: 17, name: 'TDLiD Product 17', spec: 'Product Spec for Image 17', image: 'images/products/image-17.png', desc: 'Detailed description for TDLiD product image 17.' },
        { id: 18, name: 'TDLiD Product 18', spec: 'Product Spec for Image 18', image: 'images/products/image-18.png', desc: 'Detailed description for TDLiD product image 18.' },
        { id: 19, name: 'TDLiD Product 19', spec: 'Product Spec for Image 19', image: 'images/products/image-19.png', desc: 'Detailed description for TDLiD product image 19.' },
        { id: 20, name: 'TDLiD Product 20', spec: 'Product Spec for Image 20', image: 'images/products/image-20.png', desc: 'Detailed description for TDLiD product image 20.' },
        { id: 21, name: 'TDLiD Product 21', spec: 'Product Spec for Image 21', image: 'images/products/image-21.png', desc: 'Detailed description for TDLiD product image 21.' },
        { id: 22, name: 'TDLiD Product 22', spec: 'Product Spec for Image 22', image: 'images/products/image-22.png', desc: 'Detailed description for TDLiD product image 22.' },
        { id: 23, name: 'TDLiD Product 23', spec: 'Product Spec for Image 23', image: 'images/products/image-23.png', desc: 'Detailed description for TDLiD product image 23.' },
        { id: 24, name: 'TDLiD Product 24', spec: 'Product Spec for Image 24', image: 'images/products/image-24.png', desc: 'Detailed description for TDLiD product image 24.' },
        { id: 25, name: 'TDLiD Product 25', spec: 'Product Spec for Image 25', image: 'images/products/image-25.png', desc: 'Detailed description for TDLiD product image 25.' },
        { id: 26, name: 'TDLiD Product 26', spec: 'Product Spec for Image 26', image: 'images/products/image-26.png', desc: 'Detailed description for TDLiD product image 26.' },
        { id: 27, name: 'TDLiD Product 27', spec: 'Product Spec for Image 27', image: 'images/products/image-27.png', desc: 'Detailed description for TDLiD product image 27.' },
        { id: 28, name: 'TDLiD Product 28', spec: 'Product Spec for Image 28', image: 'images/products/image-28.png', desc: 'Detailed description for TDLiD product image 28.' },
        { id: 29, name: 'TDLiD Product 29', spec: 'Product Spec for Image 29', image: 'images/products/image-29.png', desc: 'Detailed description for TDLiD product image 29.' },
        { id: 30, name: 'TDLiD Product 30', spec: 'Product Spec for Image 30', image: 'images/products/image-30.png', desc: 'Detailed description for TDLiD product image 30.' },
        { id: 31, name: 'TDLiD Product 31', spec: 'Product Spec for Image 31', image: 'images/products/image-31.png', desc: 'Detailed description for TDLiD product image 31.' },
        { id: 32, name: 'TDLiD Product 32', spec: 'Product Spec for Image 32', image: 'images/products/image-32.png', desc: 'Detailed description for TDLiD product image 32.' }
    ];

    // ----------------------------------------------------
    // 2. DOM ìš”ì†Œ ë° ìƒíƒœ ë³€ìˆ˜
    // ----------------------------------------------------
    const productContentWrapper = document.getElementById('productContentWrapper');
    const galleryImageContainer = document.getElementById('galleryImageContainer');
    const productDescription = document.getElementById('productDescription');
    const galleryStatus = document.getElementById('galleryStatus');
    const galleryPrevBtn = document.getElementById('galleryPrevBtn');
    const galleryNextBtn = document.getElementById('galleryNextBtn');

    let currentProductIndex = 0;
    let isAnimating = false;
    
    // ğŸŒŸ ìë™ ì „í™˜ íƒ€ì´ë¨¸ ê´€ë ¨ ë³€ìˆ˜ ë° ì• ë‹ˆë©”ì´ì…˜ ì„¤ì • ğŸŒŸ
    let autoChangeInterval;
    const AUTO_CHANGE_TIME = 3000; // 3ì´ˆ
    const transitionDuration = 800; // 0.8s (ìŠ¬ë¼ì´ë“œ/í˜ì´ë“œ ì†ë„)
    const slideDistance = 100; // 100px ì™¼ìª½ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ

    // ----------------------------------------------------
    // 3. ë Œë”ë§ í•¨ìˆ˜
    // ----------------------------------------------------
    function renderProduct(product, index) {
        // ì´ë¯¸ì§€ ë° ì„¤ëª…ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        galleryImageContainer.innerHTML = `
            <img src="${product.image}" alt="${product.name} Battery Pack" loading="eager" class="max-h-full">
        `;
        productDescription.textContent = product.desc;
        
        // ìƒíƒœ í‘œì‹œì¤„ì„ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
        galleryStatus.textContent = `Page ${index + 1} / ${productsData.length}`;
    }

    // ----------------------------------------------------
    // 4. ìë™ íƒ€ì´ë¨¸ ì œì–´ í•¨ìˆ˜
    // ----------------------------------------------------
    function stopAutoChange() {
        if (autoChangeInterval) {
            clearInterval(autoChangeInterval);
            autoChangeInterval = null;
        }
    }

    function startAutoChange() {
        stopAutoChange();
        
        autoChangeInterval = setInterval(() => {
            const nextIndex = (currentProductIndex + 1) % productsData.length;
            changeProduct(nextIndex, true); // ìë™ ë³€ê²½ í”Œë˜ê·¸(true) ì „ë‹¬
        }, AUTO_CHANGE_TIME);
    }
    
    // ----------------------------------------------------
    // 5. ì œí’ˆ ë³€ê²½ ë° ì• ë‹ˆë©”ì´ì…˜ í•¨ìˆ˜
    // ----------------------------------------------------
    function changeProduct(newIndex, isAutomatic = false) {
        if (isAnimating) return;
        isAnimating = true;

        if (newIndex < 0) {
            newIndex = productsData.length - 1;
        } else if (newIndex >= productsData.length) {
            newIndex = 0;
        }

        // ìˆ˜ë™ í´ë¦­ì¸ ê²½ìš°, ìë™ íƒ€ì´ë¨¸ë¥¼ ë©ˆì¶¥ë‹ˆë‹¤.
        if (!isAutomatic) {
            stopAutoChange();
        }

        // 1. í˜„ì¬ ë‚´ìš©ì„ ì™¼ìª½ìœ¼ë¡œ ë°€ë©´ì„œ í˜ì´ë“œ ì•„ì›ƒ ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
        productContentWrapper.style.transition = `transform ${transitionDuration}ms ease-out, opacity ${transitionDuration}ms ease-out`;
        productContentWrapper.style.transform = `translateX(-${slideDistance}px)`;
        productContentWrapper.style.opacity = '0';
        
        // 2. ì• ë‹ˆë©”ì´ì…˜ì´ ëë‚œ í›„ (800ms) ë‚´ìš© ì—…ë°ì´íŠ¸ ë° í˜ì´ë“œ ì¸ ì‹œì‘
        setTimeout(() => {
            // a. ìƒˆë¡œìš´ ì¸ë±ìŠ¤ë¡œ ì—…ë°ì´íŠ¸
            currentProductIndex = newIndex;
            const newProduct = productsData[currentProductIndex];

            // b. ì „í™˜ íš¨ê³¼ ë¹„í™œì„±í™” ë° ìœ„ì¹˜ ì´ˆê¸°í™” (ìƒˆë¡œìš´ ë‚´ìš©ì„ ì¤‘ì•™ì— ë Œë”ë§ ì¤€ë¹„)
            productContentWrapper.style.transition = 'none';
            productContentWrapper.style.transform = `translateX(${slideDistance}px)`; // í™”ë©´ ì˜¤ë¥¸ìª½ ë°–ìœ¼ë¡œ ì´ë™
            
            // c. ë‚´ìš© ì—…ë°ì´íŠ¸
            renderProduct(newProduct, currentProductIndex); 
            
            // d. ê°•ì œ ë¦¬í”Œë¡œìš° í›„ í˜ì´ë“œ ì¸ ì‹œì‘
            void productContentWrapper.offsetWidth; // Trigger reflow
            
            productContentWrapper.style.transition = `transform ${transitionDuration}ms ease-out, opacity ${transitionDuration}ms ease-out`; // ì• ë‹ˆë©”ì´ì…˜ ë‹¤ì‹œ í™œì„±í™”
            productContentWrapper.style.transform = 'translateX(0)'; // ì¤‘ì•™ìœ¼ë¡œ ìŠ¬ë¼ì´ë“œ
            productContentWrapper.style.opacity = '1';

            isAnimating = false;
            
            // ìˆ˜ë™ í´ë¦­ì´ì—ˆë‹¤ë©´ íƒ€ì´ë¨¸ë¥¼ ë‹¤ì‹œ ì‹œì‘
            if (!isAutomatic) {
                startAutoChange();
            }
        }, transitionDuration); 
    }

    // ----------------------------------------------------
    // 6. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
    // ----------------------------------------------------
    galleryNextBtn.addEventListener('click', () => {
        const nextIndex = (currentProductIndex + 1) % productsData.length;
        changeProduct(nextIndex, false); // ìˆ˜ë™ ë³€ê²½ í”Œë˜ê·¸(false) ì „ë‹¬
    });

    galleryPrevBtn.addEventListener('click', () => {
        let prevIndex = currentProductIndex - 1;
        if (prevIndex < 0) {
            prevIndex = productsData.length - 1;
        }
        changeProduct(prevIndex, false); // ìˆ˜ë™ ë³€ê²½ í”Œë˜ê·¸(false) ì „ë‹¬
    });


    // ----------------------------------------------------
    // 7. ì´ˆê¸°í™”
    // ----------------------------------------------------
    if (productsData.length > 0) {
        // ì´ˆê¸° ë¡œë“œ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ì—†ì´ ì²« ë²ˆì§¸ ì œí’ˆì„ í‘œì‹œ
        renderProduct(productsData[0], 0);
        
        // ì´ˆê¸° ë¡œë“œ ì‹œ íˆ¬ëª…ë„ì™€ ìœ„ì¹˜ë¥¼ ì¤‘ì•™ìœ¼ë¡œ ì„¤ì •
        productContentWrapper.style.opacity = '1'; 
        productContentWrapper.style.transform = 'translateX(0)';

        // ğŸŒŸ 3ì´ˆ íƒ€ì´ë¨¸ ì‹œì‘ ğŸŒŸ
        startAutoChange();
    }
    
    // ----------------------------------------------------
    // ğŸŒŸ [NEW] ë©”ë‰´ ì œì–´ ë¡œì§ (Click / ë°˜ì‘í˜• ì•ˆì •í™”) ğŸŒŸ (ê¸°ì¡´ ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë¡œì§ ëŒ€ì²´)
    // ----------------------------------------------------

    const menuBtn = document.getElementById('mobileMenuBtn');
    const dropdown = document.getElementById('mobileMenu');
    const menuIcon = document.getElementById('menuIcon');
    const closeIcon = document.getElementById('closeIcon');
    const allMenuLinks = dropdown.querySelectorAll('a');

    // Transition classes for smooth open/close
    const OPEN_CLASSES = ['opacity-100', 'translate-x-0'];
    const CLOSE_CLASSES = ['opacity-0', 'translate-x-full', 'hidden'];

    if (menuBtn && dropdown) {
        
        // Function to open the menu
        const openMenu = () => {
            dropdown.classList.remove(...CLOSE_CLASSES);
            dropdown.classList.add(...OPEN_CLASSES, 'flex');
            document.body.classList.add('overflow-hidden');
            menuIcon.classList.add('hidden');
            closeIcon.classList.remove('hidden');
            menuBtn.setAttribute('aria-expanded', 'true');
        };

        // Function to close the menu
        const closeMenu = () => {
            // Start transition
            dropdown.classList.remove(...OPEN_CLASSES, 'flex');
            dropdown.classList.add('opacity-0', 'translate-x-full');
            
            // Hide and unlock scroll after transition
            setTimeout(() => {
                if (dropdown.classList.contains('opacity-0')) {
                    dropdown.classList.add('hidden'); 
                    document.body.classList.remove('overflow-hidden');
                }
            }, 300); // Wait for transition duration

            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
            menuBtn.setAttribute('aria-expanded', 'false');
        };


        menuBtn.addEventListener('click', () => {
            const isOpen = menuBtn.getAttribute('aria-expanded') === 'true';
            if (isOpen) {
                closeMenu();
            } else {
                openMenu();
            }
        });

        // ë©”ë‰´ ë§í¬ í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸° (UX ê°œì„ )
        allMenuLinks.forEach(link => {
            link.addEventListener('click', closeMenu);
        });

        // í™”ë©´ í¬ê¸°ê°€ md(768px) ì´ìƒìœ¼ë¡œ ë³€ê²½ë˜ë©´ ëª¨ë°”ì¼ ë©”ë‰´ ê°•ì œ ë‹«ê¸° (ë°˜ì‘í˜• ì•ˆì •í™”)
        window.addEventListener('resize', () => {
            if (window.innerWidth >= 768 && menuBtn.getAttribute('aria-expanded') === 'true') {
                closeMenu();
            }
        });
        
        // ESC í‚¤ë¡œ ë‹«ê¸° (ì ‘ê·¼ì„±)
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && menuBtn.getAttribute('aria-expanded') === 'true') {
                closeMenu();
                menuBtn.focus();
            }
        });
    }
</script>

</body>
</html>